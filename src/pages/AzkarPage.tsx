import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { Sun, Moon, Plane, CloudRain, Fuel as Mosque, Heart, Copy, Share2, Star, Shield, Clock, Coffee } from 'lucide-react';

const AzkarPage: React.FC = () => {
  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);

  // تحديث azkarCategories.count سيتم ديناميكيا بناءً على محتوى azkarContent
  const azkarCategories = [
    {
      id: 'morning',
      title: 'أذكار الصباح',
      icon: Sun,
      color: 'from-yellow-500 to-orange-500',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'evening',
      title: 'أذكار المساء',
      icon: Moon,
      color: 'from-purple-500 to-indigo-500',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'prayer',
      title: 'أذكار بعد الصلاة',
      icon: Mosque,
      color: 'from-emerald-500 to-teal-500',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'sleep',
      title: 'أذكار النوم',
      icon: Moon,
      color: 'from-slate-500 to-gray-600',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'wakeup',
      title: 'أذكار الاستيقاظ',
      icon: Sun,
      color: 'from-amber-500 to-yellow-600',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'travel',
      title: 'أذكار السفر',
      icon: Plane,
      color: 'from-blue-500 to-cyan-500',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'rain',
      title: 'أذكار وقت المطر',
      icon: CloudRain,
      color: 'from-gray-500 to-blue-500',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'eating',
      title: 'أذكار الطعام',
      icon: Coffee,
      color: 'from-green-500 to-emerald-600',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'protection',
      title: 'أذكار الحماية والتحصين',
      icon: Shield,
      color: 'from-red-500 to-rose-600',
      count: 0 // سيتم تحديثه
    },
    {
      id: 'general',
      title: 'أذكار عامة ومفضلة',
      icon: Star,
      color: 'from-violet-500 to-purple-600',
      count: 0 // سيتم تحديثه
    }
  ];

  const azkarContent = {
    morning: [
        {
            id: 1,
            text: 'أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ',
            count: 1,
            benefit: 'الاستعاذة من الشيطان'
        },
        {
            id: 2,
            text: 'اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ.',
            count: 1,
            benefit: 'آية الكرسي: حفظ من الشيطان حتى يمسي'
        },
        {
            id: 3,
            text: 'قُلْ هُوَ اللَّهُ أَحَدٌ... (والمعوذتين: الفلق والناس)',
            count: 3,
            benefit: 'الإخلاص والمعوذتين: تكفيك من كل شيء'
        },
        {
            id: 4,
            text: 'أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ. رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذَا الْيَوْمِ وَخَيْرَ مَا بَعْدَهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذَا الْيَوْمِ وَشَرِّ مَا بَعْدَهُ، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.',
            count: 1,
            benefit: 'دعاء شامل لخير اليوم والاستعاذة من شره'
        },
        {
            id: 5,
            text: 'اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ.',
            count: 1,
            benefit: 'التوكل على الله في الحياة والممات'
        },
        {
            id: 6,
            text: 'اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لَا يَغْفِرُ الذُّنُوبَ إِلَّا أَنْتَ.',
            count: 1,
            benefit: 'سيد الاستغفار، من قاله موقناً به ومات دخل الجنة'
        },
        {
            id: 7,
            text: 'اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ وَأُشْهِدُ حَمَلَةَ عَرْشِكَ وَمَلَائِكَتَكَ وَجَمِيعَ خَلْقِكَ أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.',
            count: 4,
            benefit: 'من قالها أعتقه الله من النار'
        },
        {
            id: 8,
            text: 'اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.',
            count: 1,
            benefit: 'من قالها فقد أدى شكر يومه'
        },
        {
            id: 9,
            text: 'اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ وَالْفَقْرِ، اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.',
            count: 3,
            benefit: 'دعاء جامع للعافية والوقاية من الشرور'
        },
        {
            id: 10,
            text: 'حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ عَلَيْهِ تَوَكَّلْتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.',
            count: 7,
            benefit: 'يكفيك الله ما أهمك'
        },
        {
            id: 11,
            text: 'اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالْآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي دِينِي وَدُنْيَايَ وَأَهْلِي وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَيْنِ يَدَيَّ وَمِنْ خَلْفِي وَعَنْ يَمِينِي وَعَنْ شِمَالِي وَمِنْ فَوْقِي وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي.',
            count: 1,
            benefit: 'دعاء شامل للحفظ والستر والعافية'
        },
        {
            id: 12,
            text: 'يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ.',
            count: 3,
            benefit: 'طلب العون من الله في كل الأمور'
        },
        {
            id: 13,
            text: 'أَصْبَحْنَا عَلَى فِطْرَةِ الْإِسْلَامِ وَعَلَى كَلِمَةِ الْإِخْلَاصِ وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ وَعَلَى مِلَّةِ أَبِينَا إِبْرَاهِيمَ حَنِيفًا مُسْلِمًا وَمَا كَانَ مِنَ الْمُشْرِكِينَ.',
            count: 1,
            benefit: 'الثبات على الدين والتوحيد'
        },
        {
            id: 14,
            text: 'سُبْحَانَ اللَّهِ وَبِحَمْدِهِ عَدَدَ خَلْقِهِ، وَرِضَا نَفْسِهِ، وَزِنَةَ عَرْشِهِ، وَمِدَادَ كَلِمَاتِهِ.',
            count: 3,
            benefit: 'أجر عظيم يعادل أضعاف الذكر'
        },
        {
            id: 15,
            text: 'اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْمًا نَافِعًا، وَرِزْقًا طَيِّبًا، وَعَمَلًا مُتَقَبَّلًا.',
            count: 1,
            benefit: 'دعاء بعد صلاة الفجر للرزق والعلم'
        },
        {
            id: 16,
            text: 'أستغفر الله وأتوب إليه.',
            count: 100,
            benefit: 'طلب المغفرة والتوبة'
        },
        {
            id: 17,
            text: 'اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ.',
            count: 10,
            benefit: 'الصلاة على النبي'
        }
    ],
    evening: [
        {
            id: 1,
            text: 'أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ',
            count: 1,
            benefit: 'الاستعاذة من الشيطان'
        },
        {
            id: 2,
            text: 'اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ.',
            count: 1,
            benefit: 'آية الكرسي: حفظ من الشيطان حتى يصبح'
        },
        {
            id: 3,
            text: 'قُلْ هُوَ اللَّهُ أَحَدٌ... (والمعوذتين: الفلق والناس)',
            count: 3,
            benefit: 'الإخلاص والمعوذتين: تكفيك من كل شيء'
        },
        {
            id: 4,
            text: 'أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ. رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذِهِ اللَّيْلَةِ وَخَيْرَ مَا بَعْدَهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذِهِ اللَّيْلَةِ وَشَرِّ مَا بَعْدَهَا، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.',
            count: 1,
            benefit: 'دعاء شامل لخير الليلة والاستعاذة من شرها'
        },
        {
            id: 5,
            text: 'اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ.',
            count: 1,
            benefit: 'التوكل على الله في الحياة والممات'
        },
        {
            id: 6,
            text: 'اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لَا يَغْفِرُ الذُّنُوبَ إِلَّا أَنْتَ.',
            count: 1,
            benefit: 'سيد الاستغفار، من قاله موقناً به ومات دخل الجنة'
        },
        {
            id: 7,
            text: 'اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ وَأُشْهِدُ حَمَلَةَ عَرْشِكَ وَمَلَائِكَتَكَ وَجَمِيعَ خَلْقِكَ أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحْدَكَ لَا شَرِيكَ لَكَ وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.',
            count: 4,
            benefit: 'من قالها أعتقه الله من النار'
        },
        {
            id: 8,
            text: 'اللَّهُمَّ مَا أَمْسَى بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.',
            count: 1,
            benefit: 'من قالها فقد أدى شكر ليلته'
        },
        {
            id: 9,
            text: 'اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ وَالْفَقْرِ، اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.',
            count: 3,
            benefit: 'دعاء جامع للعافية والوقاية من الشرور'
        },
        {
            id: 10,
            text: 'حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ عَلَيْهِ تَوَكَّلْتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.',
            count: 7,
            benefit: 'يكفيك الله ما أهمك'
        },
        {
            id: 11,
            text: 'اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالْآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي دِينِي وَدُنْيَايَ وَأَهْلِي وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَيْنِ يَدَيَّ وَمِنْ خَلْفِي وَعَنْ يَمِينِي وَعَنْ شِمَالِي وَمِنْ فَوْقِي وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي.',
            count: 1,
            benefit: 'دعاء شامل للحفظ والستر والعافية'
        },
        {
            id: 12,
            text: 'يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ.',
            count: 3,
            benefit: 'طلب العون من الله في كل الأمور'
        },
        {
            id: 13,
            text: 'سُبْحَانَ اللَّهِ وَبِحَمْدِهِ.',
            count: 100,
            benefit: 'محو الذنوب'
        },
        {
            id: 14,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ يُحْيِي وَيُمِيتُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.',
            count: 10,
            benefit: 'أجر عظيم كعتق رقبة'
        },
        {
            id: 15,
            text: 'آمَنَ الرَّسُولُ بِمَا أُنْزِلَ إِلَيْهِ مِنْ رَبِّهِ وَالْمُؤْمِنُونَ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِنْ رُسُلِهِ وَقَالُوا سَمِعْنَا وَأَطَعْنَا غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ. لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا لَهَا مَا كَسَبَتْ وَعَلَيْهَا مَا اكْتَسَبَتْ رَبَّنَا لَا تُؤَاخِذْنَا إِنْ نَسِينَا أَوْ أَخْطَأْنَا رَبَّنَا وَلَا تَحْمِلْ عَلَيْنَا إِصْرًا كَمَا حَمَلْتَهُ عَلَى الَّذِينَ مِنْ قَبْلِنَا رَبَّنَا وَلَا تُحَمِّلْنَا مَا لَا طَاقَةَ لَنَا بِهِ وَاعْفُ عَنَّا وَاغْفِرْ لَنَا وَارْحَمْنَا أَنْتَ مَوْلَانَا فَانْصُرْنَا عَلَى الْقَوْمِ الْكَافِرِينَ.',
            count: 1,
            benefit: 'كفتاه من كل سوء في ليلته'
        }
    ],
    prayer: [
        {
            id: 1,
            text: 'أَسْتَغْفِرُ اللَّهَ.',
            count: 3,
            benefit: 'طلب المغفرة من الله بعد الصلاة'
        },
        {
            id: 2,
            text: 'اللَّهُمَّ أَنْتَ السَّلَامُ وَمِنْكَ السَّلَامُ، تَبَارَكْتَ يَا ذَا الْجَلَالِ وَالْإِكْرَامِ.',
            count: 1,
            benefit: 'دعاء بعد السلام من الصلاة'
        },
        {
            id: 3,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ. اللَّهُمَّ لَا مَانِعَ لِمَا أَعْطَيْتَ وَلَا مُعْطِيَ لِمَا مَنَعْتَ وَلَا يَنْفَعُ ذَا الْجَدِّ مِنْكَ الْجَدُّ.',
            count: 1,
            benefit: 'فضل عظيم بعد الصلاة'
        },
        {
            id: 4,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ. لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ، لَا إِلَهَ إِلَّا اللَّهُ، وَلَا نَعْبُدُ إِلَّا إِيَّاهُ، لَهُ النِّعْمَةُ وَلَهُ الْفَضْلُ وَلَهُ الثَّنَاءُ الْحَسَنُ، لَا إِلَهَ إِلَّا اللَّهُ مُخْلِصِينَ لَهُ الدِّينَ وَلَوْ كَرِهَ الْكَافِرُونَ.',
            count: 1,
            benefit: 'توحيد الله بعد الصلاة'
        },
        {
            id: 5,
            text: 'سُبْحَانَ اللَّهِ.',
            count: 33,
            benefit: 'تسبيح الله'
        },
        {
            id: 6,
            text: 'الْحَمْدُ لِلَّهِ.',
            count: 33,
            benefit: 'حمد الله'
        },
        {
            id: 7,
            text: 'اللَّهُ أَكْبَرُ.',
            count: 33,
            benefit: 'تكبير الله'
        },
        {
            id: 8,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.',
            count: 1,
            benefit: 'تتمة المائة بعد التسبيحات'
        },
        {
            id: 9,
            text: 'اللَّهُمَّ أَعِنِّي عَلَى ذِكْرِكَ وَشُكْرِكَ وَحُسْنِ عِبَادَتِكَ.',
            count: 1,
            benefit: 'طلب العون على العبادة'
        },
        {
            id: 10,
            text: 'قُلْ هُوَ اللَّهُ أَحَدٌ... (والمعوذتين: الفلق والناس)',
            count: 1,
            benefit: 'تكفيك من كل سوء بعد كل صلاة'
        },
        {
            id: 11,
            text: 'اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ وَلَا يَئُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ.',
            count: 1,
            benefit: 'آية الكرسي: لم يمنعه من دخول الجنة إلا أن يموت'
        }
    ],
    sleep: [
        {
            id: 1,
            text: 'يجمع كفيه ثم ينفث فيهما فيقرأ: قُلْ هُوَ اللَّهُ أَحَدٌ... وقُلْ أَعُوذُ بِرَبِّ الْفَلَقِ... وقُلْ أَعُوذُ بِرَبِّ النَّاسِ... ثم يمسح بهما ما استطاع من جسده، يبدأ بهما على رأسه ووجهه وما أقبل من جسده.',
            count: 3,
            benefit: 'الحفظ من كل سوء أثناء النوم'
        },
        {
            id: 2,
            text: 'اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ...',
            count: 1,
            benefit: 'آية الكرسي: حفظ من الشيطان حتى يصبح'
        },
        {
            id: 3,
            text: 'آمَنَ الرَّسُولُ بِمَا أُنْزِلَ إِلَيْهِ مِنْ رَبِّهِ وَالْمُؤْمِنُونَ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِنْ رُسُلِهِ وَقَالُوا سَمِعْنَا وَأَطَعْنَا غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ. لَا يُكَلِّفُ اللَّهُ نَفْسًا إِلَّا وُسْعَهَا لَهَا مَا كَسَبَتْ وَعَلَيْهَا مَا اكْتَسَبَتْ رَبَّنَا لَا تُؤَاخِذْنَا إِنْ نَسِينَا أَوْ أَخْطَأْنَا رَبَّنَا وَلَا تَحْمِلْ عَلَيْنَا إِصْرًا كَمَا حَمَلْتَهُ عَلَى الَّذِينَ مِنْ قَبْلِنَا رَبَّنَا وَلَا تُحَمِّلْنَا مَا لَا طَاقَةَ لَنَا بِهِ وَاعْفُ عَنَّا وَاغْفِرْ لَنَا وَارْحَمْنَا أَنْتَ مَوْلَانَا فَانْصُرْنَا عَلَى الْقَوْمِ الْكَافِرِينَ.',
            count: 1,
            benefit: 'كفتاه من كل سوء في ليلته'
        },
        {
            id: 4,
            text: 'بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا.',
            count: 1,
            benefit: 'دعاء عند النوم'
        },
        {
            id: 5,
            text: 'سُبْحَانَ اللَّهِ (33)، وَالْحَمْدُ لِلَّهِ (33)، وَاللَّهُ أَكْبَرُ (34).',
            count: 1,
            benefit: 'فضل عظيم عند النوم'
        },
        {
            id: 6,
            text: 'اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ.',
            count: 3,
            benefit: 'الأمان من عذاب القبر'
        },
        {
            id: 7,
            text: 'بِاسْمِكَ رَبِّ وَضَعْتُ جَنْبِي وَبِكَ أَرْفَعُهُ، إِنْ أَمْسَكْتَ نَفْسِي فَارْحَمْهَا، وَإِنْ أَرْسَلْتَهَا فَاحْفَظْهَا بِمَا تَحْفَظُ بِهِ عِبَادَكَ الصَّالِحِينَ.',
            count: 1,
            benefit: 'حفظ النفس من الشر'
        },
        {
            id: 8,
            text: 'اللَّهُمَّ خَلَقْتَ نَفْسِي وَأَنْتَ تَتَوَفَّاهَا، لَكَ مَمَاتُهَا وَمَحْيَاهَا، إِنْ أَحْيَيْتَهَا فَاحْفَظْهَا، وَإِنْ أَمَتَّهَا فَاغْفِرْ لَهَا. اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَافِيَةَ.',
            count: 1,
            benefit: 'التسليم لأمر الله'
        },
        {
            id: 9,
            text: 'الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا وَكَفَانَا وَآوَانَا، فَكَمْ مِمَّنْ لَا كَافِيَ لَهُ وَلَا مُؤْوِيَ.',
            count: 1,
            benefit: 'شكر الله على النعم'
        },
        {
            id: 10,
            text: 'اللَّهُمَّ رَبَّ السَّمَوَاتِ وَرَبَّ الْأَرْضِ وَرَبَّ الْعَرْشِ الْعَظِيمِ، رَبَّنَا وَرَبَّ كُلِّ شَيْءٍ، فَالِقَ الْحَبِّ وَالنَّوَى، وَمُنْزِلَ التَّوْرَاةِ وَالْإِنْجِيلِ وَالْفُرْقَانِ، أَعُوذُ بِكَ مِنْ شَرِّ كُلِّ شَيْءٍ أَنْتَ آخِذٌ بِنَاصِيَتِهِ، اللَّهُمَّ أَنْتَ الْأَوَّلُ فَلَيْسَ قَبْلَكَ شَيْءٌ، وَأَنْتَ الْآخِرُ فَلَيْسَ بَعْدَكَ شَيْءٌ، وَأَنْتَ الظَّاهِرُ فَلَيْسَ فَوْقَكَ شَيْءٌ، وَأَنْتَ الْبَاطِنُ فَلَيْسَ دُونَكَ شَيْءٌ، اقْضِ عَنَّا الدَّيْنَ وَأَغْنِنَا مِنَ الْفَقْرِ.',
            count: 1,
            benefit: 'قضاء الدين والغنى من الفقر'
        }
    ],
    wakeup: [
        {
            id: 1,
            text: 'الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ.',
            count: 1,
            benefit: 'شكر الله على نعمة اليقظة'
        },
        {
            id: 2,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ. سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ، وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ العَلِيِّ الْعَظِيمِ.',
            count: 1,
            benefit: 'فضل في غفران الذنوب عند الاستيقاظ'
        },
        {
            id: 3,
            text: 'اللَّهُمَّ اغْفِرْ لِي ذَنْبِي وَأَدْخِلْنِي مُدْخَلَ صِدْقٍ وَأَخْرِجْنِي مُخْرَجَ صِدْقٍ وَاجْعَلْ لِي مِنْ لَدُنْكَ سُلْطَانًا نَصِيرًا.',
            count: 1,
            benefit: 'دعاء لطلب المغفرة والتوفيق'
        }
    ],
    travel: [
        {
            id: 1,
            text: 'اللَّهُ أَكْبَرُ، اللَّهُ أَكْبَرُ، اللَّهُ أَكْبَرُ، سُبْحَانَ الَّذِي سَخَّرَ لَنَا هَذَا وَمَا كُنَّا لَهُ مُقْرِنِينَ وَإِنَّا إِلَى رَبِّنَا لَمُنْقَلِبُونَ. اللَّهُمَّ إِنَّا نَسْأَلُكَ فِي سَفَرِنَا هَذَا الْبِرَّ وَالتَّقْوَى، وَمِنَ الْعَمَلِ مَا تَرْضَى، اللَّهُمَّ هَوِّنْ عَلَيْنَا سَفَرَنَا هَذَا وَاطْوِ عَنَّا بُعْدَهُ، اللَّهُمَّ أَنْتَ الصَّاحِبُ فِي السَّفَرِ وَالْخَلِيفَةُ فِي الْأَهْلِ، اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ وَعْثَاءِ السَّفَرِ وَكَآبَةِ الْمَنْظَرِ وَسُوءِ الْمُنْقَلَبِ فِي الْمَالِ وَالْأَهْلِ.',
            count: 1,
            benefit: 'دعاء السفر لحفظ المسافر وتيسير أمره'
        },
        {
            id: 2,
            text: 'إذا نزل منزلاً: أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ.',
            count: 1,
            benefit: 'الحماية عند النزول في مكان'
        }
    ],
    rain: [
        {
            id: 1,
            text: 'اللَّهُمَّ صَيِّبًا نَافِعًا.',
            count: 1,
            benefit: 'طلب المطر النافع عند نزوله'
        },
        {
            id: 2,
            text: 'بعد المطر: مُطِرْنَا بِفَضْلِ اللَّهِ وَرَحْمَتِهِ.',
            count: 1,
            benefit: 'الشكر لله على المطر'
        },
        {
            id: 3,
            text: 'عند سماع الرعد: سُبْحَانَ الَّذِي يُسَبِّحُ الرَّعْدُ بِحَمْدِهِ وَالْمَلَائِكَةُ مِنْ خِيفَتِهِ.',
            count: 1,
            benefit: 'تسبيح الله عند سماع الرعد'
        }
    ],
    eating: [
        {
            id: 1,
            text: 'قبل الطعام: بِسْمِ اللَّهِ.',
            count: 1,
            benefit: 'البدء ببركة الله في الطعام'
        },
        {
            id: 2,
            text: 'إذا نسي التسمية في أوله فقال: بِسْمِ اللَّهِ أَوَّلَهُ وَآخِرَهُ.',
            count: 1,
            benefit: 'تعويض النسيان وتبريك الطعام'
        },
        {
            id: 3,
            text: 'بعد الانتهاء: الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا وَجَعَلَنَا مُسْلِمِينَ.',
            count: 1,
            benefit: 'شكر الله على نعمة الطعام والشراب والإسلام'
        }
    ],
    protection: [
        {
            id: 1,
            text: 'بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلَا فِي السَّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ.',
            count: 3,
            benefit: 'لا يضره شيء ما دام قالها في الصباح والمساء'
        },
        {
            id: 2,
            text: 'أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ مِنْ شَرِّ مَا خَلَقَ.',
            count: 3,
            benefit: 'حماية من كل شر يؤذي'
        },
        {
            id: 3,
            text: 'اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَأَعُوذُ بِكَ مِنَ الْعَجْزِ وَالْكَسَلِ، وَأَعُوذُ بِكَ مِنَ الْجُبْنِ وَالْبُخْلِ، وَأَعُوذُ بِكَ مِنْ غَلَبَةِ الدَّيْنِ وَقَهْرِ الرِّجَالِ.',
            count: 1,
            benefit: 'دعاء شامل لدفع الهموم والمخاوف'
        },
        {
            id: 4,
            text: 'يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ أَصْلِحْ لِي شَأْنِي كُلَّهُ وَلَا تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ.',
            count: 1,
            benefit: 'طلب العون والرحمة من الله'
        }
    ],
    general: [
        {
            id: 1,
            text: 'سُبْحَانَ اللَّهِ وَبِحَمْدِهِ.',
            count: 100,
            benefit: 'ثقيلتان في الميزان، حبيبتان إلى الرحمن، وحط الخطايا'
        },
        {
            id: 2,
            text: 'لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.',
            count: 100,
            benefit: 'أجر عظيم كعتق عشر رقاب، ومائة حسنة، ودرجات'
        },
        {
            id: 3,
            text: 'أَسْتَغْفِرُ اللَّهَ الْعَظِيمَ الَّذِي لَا إِلَهَ إِلَّا هُوَ الْحَيَّ الْقَيُّومَ وَأَتُوبُ إِلَيْهِ.',
            count: 100,
            benefit: 'مغفرة الذنوب وإن فر من الزحف'
        },
        {
            id: 4,
            text: 'سُبْحَانَ اللَّهِ وَبِحَمْدِهِ سُبْحَانَ اللَّهِ الْعَظِيمِ.',
            count: 1,
            benefit: 'ثقيلتان في الميزان، حبيبتان إلى الرحمن'
        },
        {
            id: 5,
            text: 'لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ.',
            count: 10,
            benefit: 'كنز من كنوز الجنة'
        },
        {
            id: 6,
            text: 'اللَّهُمَّ صَلِّ وَسَلِّمْ وَبَارِكْ عَلَى نَبِيِّنَا مُحَمَّدٍ.',
            count: 10,
            benefit: 'مكافأة الصلاة على النبي'
        },
        {
            id: 7,
            text: 'رَبِّ اغْفِرْ لِي وَتُبْ عَلَيَّ إِنَّكَ أَنْتَ التَّوَّابُ الرَّحِيمُ.',
            count: 100,
            benefit: 'طلب المغفرة والتوبة'
        },
        {
            id: 8,
            text: 'سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ.',
            count: 1,
            benefit: 'أحب الكلام إلى الله'
        },
        {
            id: 9,
            text: 'اللَّهُمَّ أَنْتَ رَبِّي، لَا إِلَهَ إِلَّا أَنْتَ، عَلَيْكَ تَوَكَّلْتُ، وَأَنْتَ رَبُّ الْعَرْشِ الْعَظِيمِ.',
            count: 1,
            benefit: 'التوكل على الله'
        },
        {
            id: 10,
            text: 'اللَّهُمَّ إِنِّي أَسْأَلُكَ الْهُدَى وَالتُّقَى وَالْعَفَافَ وَالْغِنَى.',
            count: 1,
            benefit: 'دعاء جامع لخير الدنيا والآخرة'
        }
    ]
  };

    // Update counts in azkarCategories based on actual content length
    azkarCategories.forEach(category => {
        if (azkarContent[category.id as keyof typeof azkarContent]) {
            category.count = azkarContent[category.id as keyof typeof azkarContent].length;
        }
    });

  const handleCopy = (text: string) => {
    navigator.clipboard.writeText(text);
  };

  const handleShare = (text: string) => {
    if (navigator.share) {
      navigator.share({
        title: 'ذكر من تطبيق سَكينة',
        text: text,
      });
    }
  };

  if (!selectedCategory) {
    return (
      <div className="space-y-6">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center py-8"
        >
          <h1 className="text-3xl font-bold gradient-text mb-4 font-arabic">
            الأذكار والأحاديث
          </h1>
          <p className="text-slate-600 font-arabic">
            أذكار من السنة النبوية المطهرة
          </p>
        </motion.div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {azkarCategories.map((category, index) => (
            <motion.div
              key={category.id}
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ delay: index * 0.1 }}
              onClick={() => setSelectedCategory(category.id)}
              className="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer card-hover border border-slate-200"
            >
              <div className="text-center">
                <div className={`w-20 h-20 mx-auto mb-4 bg-gradient-to-br ${category.color} rounded-full flex items-center justify-center shadow-lg`}>
                  <category.icon className="w-10 h-10 text-white" />
                </div>
                
                <h3 className="text-xl font-bold text-slate-800 mb-2 font-arabic">
                  {category.title}
                </h3>
                
                <p className="text-slate-600 text-sm font-arabic">
                  {category.count} ذكر وحديث
                </p>
                
                <div className="mt-4 text-slate-400">
                  <svg className="w-6 h-6 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
              </div>
            </motion.div>
          ))}
        </div>

        {/* Featured Hadith */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.6 }}
          className="bg-gradient-to-br from-slate-700 to-slate-800 text-white rounded-2xl p-8 text-center shadow-2xl"
        >
          <div className="text-4xl mb-4">📿</div>
          <blockquote className="text-xl font-semibold mb-4 font-arabic">
            "مَنْ قَالَ سُبْحَانَ اللَّهِ وَبِحَمْدِهِ فِي يَوْمٍ مِائَةَ مَرَّةٍ حُطَّتْ خَطَايَاهُ وَإِنْ كَانَتْ مِثْلَ زَبَدِ الْبَحْرِ"
          </blockquote>
          <cite className="text-slate-300 font-arabic">صحيح البخاري</cite>
        </motion.div>
      </div>
    );
  }

  const currentCategory = azkarCategories.find(cat => cat.id === selectedCategory);
  const currentAzkar = azkarContent[selectedCategory as keyof typeof azkarContent] || [];

  return (
    <div className="space-y-6">
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        className="flex items-center justify-between"
      >
        <div>
          <h1 className="text-3xl font-bold gradient-text mb-2 font-arabic">
            {currentCategory?.title}
          </h1>
          <p className="text-slate-600 font-arabic">
            {currentAzkar.length} ذكر وحديث
          </p>
        </div>
        <button
          onClick={() => setSelectedCategory(null)}
          className="px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-arabic"
        >
          العودة للقائمة
        </button>
      </motion.div>

      <div className="space-y-6">
        {currentAzkar.map((zikr, index) => (
          <motion.div
            key={zikr.id}
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ delay: index * 0.1 }}
            className="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-slate-200"
          >
            <div className="flex items-start justify-between mb-4">
              <div className="flex-1">
                <div className="bg-gradient-to-br from-slate-50 to-emerald-50 rounded-xl p-6 mb-4">
                  <p className="text-xl leading-relaxed text-slate-800 font-arabic text-center">
                    {zikr.text}
                  </p>
                </div>
                
                <div className="flex items-center justify-between">
                  <div className="flex items-center space-x-4 space-x-reverse">
                    <span className="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-arabic">
                      {zikr.count} مرة
                    </span>
                    <span className="text-slate-600 text-sm font-arabic">
                      {zikr.benefit}
                    </span>
                  </div>
                  
                  <div className="flex items-center space-x-2 space-x-reverse">
                    <button
                      onClick={() => handleCopy(zikr.text)}
                      className="p-2 rounded-full hover:bg-slate-50 transition-colors"
                    >
                      <Copy className="w-5 h-5 text-slate-600" />
                    </button>
                    <button
                      onClick={() => handleShare(zikr.text)}
                      className="p-2 rounded-full hover:bg-slate-50 transition-colors"
                    >
                      <Share2 className="w-5 h-5 text-slate-600" />
                    </button>
                    <button className="p-2 rounded-full hover:bg-slate-50 transition-colors">
                      <Heart className="w-5 h-5 text-slate-600" />
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </motion.div>
        ))}
      </div>
    </div>
  );
};

export default AzkarPage;